# курс доллара в рублях

Данная программа извлекает данные курса из API, предоставленным на сайте [APILayer](https://apilayer.com/). Выкладывает эти данные в базу данных типа SQLite. После эти данные идут на создание графика, который после загрузится в свободный доступ на ресурсе [imgBB](https://api.imgbb.com/).

# Как программа работает

программа реализованна через следующие функции:

- [Обработка запроса API из APILayer](#обработка-запроса-api-из-apilayer)
- [Загрузка данных в БД и их обработка в программе](#загрузка-данных-в-бд-и-их-обработка-в-программе)
- [Создание графиков курса изменения доллара в течении конкретного промежутка времени](#создание-графиков-курса-изменения-доллара-в-течении-конкретного-промежутка-времени) 
- [Отправка графиков на imgBB](#отправка-графиков-на-imgbb)

## Обработка запроса API из APILayer    

Чтобы получить API нужно зарегистрироваться на сайте [APILayer](https://apilayer.com/) либо через почту, либо через гугл или github. После регистрации ищем вкладку [Fixer API](https://apilayer.com/marketplace/fixer-api), где мы и получим наш API токен. Прежде чем писать код, ознакомьтесь с документацией, в котором есть примеры, как выглядит простой код на языке Go.\
Поскольку нам нужны изменения курса доллара за небольшой промежуток времени, то воспользуемся запросом типа "/latest". В документации есть пример запроса на языке go

```Go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {
  url := "https://api.apilayer.com/fixer/latest?symbols=RUB&base=USD"

  client := &http.Client {}
  req, err := http.NewRequest("GET", url, nil)
  req.Header.Set("apikey", "TOKEN_API")

  if err != nil {
    fmt.Println(err)
  }
  res, err := client.Do(req)
	if res.Body != nil {
    defer res.Body.Close()
  }
  body, err := ioutil.ReadAll(res.Body)

  fmt.Println(string(body))
}
```
В итоге мы получаем json код

```json
{
  "base": "USD",
  "date": "2023-03-30",
  "rates": {
    "RUB": 77.166992
  },
  "success": true,
  "timestamp": 1680179583
}
```

## Загрузка данных в БД и их обработка в программе

## Создание графиков курса изменения доллара в течении конкретного промежутка времени 

## Отправка графиков на imgBB


